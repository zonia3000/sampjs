<!DOCTYPE html>
<html>

<head>
  <title>Pinger</title>
  <meta charset="utf-8" />
</head>

<body>
  <h2>Really minimal SAMP web page</h2>
  <script src="../samp-extension-caller.js"></script>
  <script src="../samp.js"></script>
  <script>
    var connector;

    var pingFunc = function(connection) {
      connection.notifyAll([new samp.Message("samp.app.ping", {})])
    };
    var errorHandler = function(err) {
      console.log('Error: ', err);
    };

    document.addEventListener('SampBrowserExtensionLoaded', event => {
      connector = new samp.Connector("pinger", {
        "samp.name": "Pinger"
      });
    });
  </script>
  <button onclick="connector.runWithConnection(pingFunc, errorHandler)">Ping</button>
</body>

</html>
